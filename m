Return-Path: <linux-kernel+bounces-813378-lists+linux-kernel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [139.178.88.99])
	by mail.lfdr.de (Postfix) with ESMTPS id 4C044B54454
	for <lists+linux-kernel@lfdr.de>; Fri, 12 Sep 2025 09:59:07 +0200 (CEST)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 48A09481394
	for <lists+linux-kernel@lfdr.de>; Fri, 12 Sep 2025 07:59:05 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id E21642D47E0;
	Fri, 12 Sep 2025 07:58:58 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=sipsolutions.net header.i=@sipsolutions.net header.b="SdC1OjCV"
Received: from sipsolutions.net (s3.sipsolutions.net [168.119.38.16])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 424772D0C73
	for <linux-kernel@vger.kernel.org>; Fri, 12 Sep 2025 07:58:56 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=168.119.38.16
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1757663938; cv=none; b=LrKNLOJHB2FkE64RleHwUes7oymriR/7kSjhyG4vpfiJe9UFZH+BET++mw8hmFPHm+eKYCSH4zQ/MIcDDjRFtXTniP857s7OfyenHAYP37apNgSUaNzBx5OeeDTLmZvKZMqS/8vkt8lbx9vMupNap87mhwnT1lgjadtLzGCfih4=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1757663938; c=relaxed/simple;
	bh=QTKTUxIFnCPKq3z2etimM7StM1iR5OtLKa3yZ0aoRRo=;
	h=Message-ID:Subject:From:To:Cc:Date:In-Reply-To:References:
	 Content-Type:MIME-Version; b=aEd1gbcu1/MmVEVHNaarl0PjmU1LB3JO1BDuLJpJJ7qzl7JTe0LhkWCHTijwVy6c5keuLrSyixmznUStfgDRa/Tr9MfGbt70wqGbUL6CLCnbo/frxxldK8KAmL37uR6ymAKoBrRbOrYoDC5sUOz11rJg/TiFuMO78JAGN/16UbE=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=sipsolutions.net; spf=pass smtp.mailfrom=sipsolutions.net; dkim=pass (2048-bit key) header.d=sipsolutions.net header.i=@sipsolutions.net header.b=SdC1OjCV; arc=none smtp.client-ip=168.119.38.16
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=sipsolutions.net
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=sipsolutions.net
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=sipsolutions.net; s=mail; h=MIME-Version:Content-Transfer-Encoding:
	Content-Type:References:In-Reply-To:Date:Cc:To:From:Subject:Message-ID:Sender
	:Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-To:
	Resent-Cc:Resent-Message-ID; bh=QTKTUxIFnCPKq3z2etimM7StM1iR5OtLKa3yZ0aoRRo=;
	t=1757663936; x=1758873536; b=SdC1OjCVCwkqNV5VFOhVwDjiNG1rxPrNZdWJ7mOaA8Zal1X
	9lT7UIjlRwaZ7x/3ed7fICeS9NPCBHyPMz3OCEWjGHht3HFANC/22nyQEcyB7V3AmP7IpYD1T9h23
	InO+igldtpp2j3GAEmfpWcTBocTvhnMGkhMgADChA5uwxtqfQYE9K1dy52HBs2ojdLI+5GERrVLeT
	y+oyh84XsRBg1M+M79wITaGF2JLvC1axajOlxa5pTS7qTFuPWtTG5qmOdvgOMC9XUCN7+T7d0sW7t
	vGDdl5Nrjs5q3OxdbZiVpKbD417QoXqiD3TuXZC63b9uvfBSDP8pKabQqGmgOVJA==;
Received: by sipsolutions.net with esmtpsa (TLS1.3:ECDHE_X25519__RSA_PSS_RSAE_SHA256__AES_256_GCM:256)
	(Exim 4.98.2)
	(envelope-from <benjamin@sipsolutions.net>)
	id 1uwygE-0000000GtlD-0WIW;
	Fri, 12 Sep 2025 09:58:50 +0200
Message-ID: <250234d1acd54553bf5f55972d9b05cfccb2cfab.camel@sipsolutions.net>
Subject: Re: [PATCH v2 04/10] um: Turn signals_* into thread-local variables
From: Benjamin Berg <benjamin@sipsolutions.net>
To: Tiwei Bie <tiwei.bie@linux.dev>
Cc: richard@nod.at, anton.ivanov@cambridgegreys.com,
 johannes@sipsolutions.net, 	arnd@arndb.de, linux-um@lists.infradead.org,
 linux-kernel@vger.kernel.org, 	tiwei.btw@antgroup.com
Date: Fri, 12 Sep 2025 09:58:49 +0200
In-Reply-To: <20250912003054.2564842-1-tiwei.bie@linux.dev>
References: 
	<75ba2109fcdfb8a1629fdf5f6b4e58694b975c9f.camel@sipsolutions.net>
	 <20250912003054.2564842-1-tiwei.bie@linux.dev>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: base64
User-Agent: Evolution 3.56.2 (3.56.2-1.fc42) 
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-malware-bazaar: not-scanned

T24gRnJpLCAyMDI1LTA5LTEyIGF0IDA4OjMwICswODAwLCBUaXdlaSBCaWUgd3JvdGU6Cj4gT24g
VGh1LCAxMSBTZXAgMjAyNSAxMDowNjo1MyArMDIwMCwgQmVuamFtaW4gQmVyZyB3cm90ZToKPiAK
PiA+IFtTTklQXQo+ID4gVGhhdCBzYWlkLCBJIGRvIGJlbGlldmUgdGhhdCB0aGUgYWxsb2NhdGlv
bnMgZnJvbSB0aGUgbGliYyBpdHNlbGYgYXJlCj4gPiBwcm9ibGVtYXRpYy4gQSBsb3Qgb2YgdGhl
IG1hcHBpbmdzIGZyb20gVU1MIGFyZSB0aGVyZSBhbHJlYWR5IChpLmUuIHRoZQo+ID4gcGh5c2lj
YWwgbWVtb3J5IGlzIG1hcHBlZCkuIEhvd2V2ZXIsIEkgYmVsaWV2ZSB0aGUgdm1hbGxvYyBhcmVh
IGZvcgo+ID4gZXhhbXBsZSBpcyBub3QgZ3VhcmRlZC4KPiA+IAo+ID4gU28gd2hlbiBwdGhyZWFk
IGFsbG9jYXRlcyB0aGUgdGhyZWFkIHNwZWNpZmljIG1lbW9yeSAoc3RhY2ssIFRMUywgLi4uKSwK
PiA+IHdlIHJlYWxseSBkbyBub3Qga25vdyB3aGVyZSB0aGlzIHdpbGwgYmUgbWFwcGVkIGludG8g
dGhlIGFkZHJlc3Mgc3BhY2UuCj4gPiBJZiBpdCBoYXBwZW5zIHRvIGJlIGluIGFuIGFyZWEgdGhh
dCBVTUwgd2FudHMgdG8gdXNlIGxhdGVyLCB0aGVuIFVNTAo+ID4gY291bGQgbWFwIGUuZy4gdm1h
bGxvYyBkYXRhIG92ZXIgaXQuCj4gPiAKPiA+IE5vdywgaXQgY291bGQgYmUgdGhhdCAoY3VycmVu
dGx5KSB0aGUgYWRkcmVzc2VzIHBpY2tlZCBieSBwdGhyZWFkIChvcgo+ID4gdGhlIGhvc3Qga2Vy
bmVsKSBkbyBub3QgYWN0dWFsbHkgY2xhc2ggd2l0aCBhbnl0aGluZy4gSG93ZXZlciwgSSBkbyBu
b3QKPiA+IHRoaW5rIHRoZXJlIGlzIGFueSBndWFyYW50ZWUgZm9yIHRoYXQuCj4gCj4gSW5kZWVk
LiBUaGUgbW1hcCBmcm9tIGxpYmMgKHB0aHJlYWQsIHNoYXJlZCBsaWJzLCAuLi4pIGNhbiBwb3Rl
bnRpYWxseQo+IGNvbmZsaWN0IHdpdGggVU1MLiBUaGUgcmVhc29uIGl0IGhhcyBiZWVuIHdvcmtp
bmcgb24geDg2XzY0IHNvIGZhciBtaWdodAo+IGJlIHRoYXQgd2UgZGlkIHRoaXMgaW4gbGludXhf
bWFpbigpOgo+IAo+IAl0YXNrX3NpemUgPSB0YXNrX3NpemUgJiBQR0RJUl9NQVNLOwo+IAo+IFRo
ZSBjdXJyZW50IGxheW91dCBpczoKPiAKPiBzaGFyZWQgbGlicyBhbmQgcHRocmVhZHMgYXJlIGxv
Y2F0ZWQgYXQgN2ZmeHh4eHh4eHh4Cj4gVEFTS19TSVpFwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgPSA3ZjgwMDAwMDAwMDAKPiBWTUFMTE9D
X0VORMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAg
PSA3ZjdmZmZmZmUwMDAgKHdoaWNoIGlzIFRBU0tfU0laRS0yKlBBR0VfU0laRSkKClVoLCByaWdo
dCwgeWVzLiBCZWNhdXNlIG9mIHRoZSBtYXNraW5nIHdlIGFyZSBjYXBwaW5nIG91cnNlbHZlcyB0
bwoweDdmODAwMDAwMDAwMC4gQW5kIHRoZW4gYWxsIG9mIHRoZSBpbnRlcmVzdGluZyBiaXRzICh2
ZHNvLCAuLi4pIGhhcHBlbgp0byBiZSBtYXBwZWQgYWJvdmUgdGhhdCBhZGRyZXNzIGFuZCBhcmUg
ZWZmZWN0aXZlbHkgcHJvdGVjdGVkLiBBbmQsCnRoZXJlIGlzIGFsc28gcGxlbnR5IG9mIHNwYWNl
IGZvciBvdGhlciBhbGxvY2F0aW9ucyB0ZWNobmljYWxseS4KClRoYXQgaXMga2luZCBvZiBob3Jy
aWJsZSwgYXMgaXQgb25seSB3b3JrcyBiZWNhdXNlIGFsbCBvZiB0aGlzIGhhcHBlbnMKdG8gYmUg
bWFwcGVkIGludG8gdGhlIHRvcCBvZiB0aGUgYWRkcmVzcyBzcGFjZS4gQnV0LCBtYXliZSBzb21l
dGhpbmcgdG8KanVzdCB3aWxmdWxseSBpZ25vcmUgYW5kIG9ubHkgZml4IGFzIHBhcnQgb2YgYSBu
b2xpYmMgcG9ydD8KCj4gSG93ZXZlciwgb24gaTM4NiwgdGhlIHJpc2sgb2YgY29uZmxpY3RzIGxv
b2tzIG11Y2ggaGlnaGVyOgo+IAo+IFRBU0tfU0laRcKgwqAgPSBmZmMwMDAwMAo+IFZNQUxMT0Nf
RU5EID0gZmZiZmUwMDAKPiAKPiAuLi4uLi4KPiBmN2MwMDAwMC1mN2MyMDAwMCByLS1wIDAwMDAw
MDAwIDA4OjAxIDkxMTTCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqAgL3Vzci9saWIzMi9saWJjLnNvLjYKPiBmN2MyMDAwMC1mN2Q5ZTAw
MCByLXhwIDAwMDIwMDAwIDA4OjAxIDkxMTTCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgL3Vzci9saWIzMi9saWJjLnNvLjYKPiBmN2Q5
ZTAwMC1mN2UyMzAwMCByLS1wIDAwMTllMDAwIDA4OjAxIDkxMTTCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgL3Vzci9saWIzMi9saWJj
LnNvLjYKPiBmN2UyMzAwMC1mN2UyNDAwMCAtLS1wIDAwMjIzMDAwIDA4OjAxIDkxMTTCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgL3Vz
ci9saWIzMi9saWJjLnNvLjYKPiBmN2UyNDAwMC1mN2UyNjAwMCByLS1wIDAwMjIzMDAwIDA4OjAx
IDkxMTTCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqAgL3Vzci9saWIzMi9saWJjLnNvLjYKPiBmN2UyNjAwMC1mN2UyNzAwMCBydy1wIDAw
MjI1MDAwIDA4OjAxIDkxMTTCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqAgL3Vzci9saWIzMi9saWJjLnNvLjYKPiBmN2UyNzAwMC1mN2Uz
MTAwMCBydy1wIDAwMDAwMDAwIDAwOjAwIDAgCj4gZjdmYmUwMDAtZjdmYzAwMDAgcnctcCAwMDAw
MDAwMCAwMDowMCAwIAo+IGY3ZmMwMDAwLWY3ZmM0MDAwIHItLXAgMDAwMDAwMDAgMDA6MDAgMMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoCBbdnZhcl0KPiBmN2ZjNDAwMC1mN2ZjNjAwMCByLXhwIDAwMDAwMDAwIDAwOjAwIDDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqAgW3Zkc29dCj4gZjdmYzYwMDAtZjdmYzcwMDAgci0tcCAwMDAwMDAwMCAwODowMSA5
MTA3wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgIC91c3IvbGliMzIvbGQtbGludXguc28uMgo+IGY3ZmM3MDAwLWY3ZmVjMDAwIHIteHAg
MDAwMDEwMDAgMDg6MDEgOTEwN8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCAvdXNyL2xpYjMyL2xkLWxpbnV4LnNvLjIKPiBmN2ZlYzAw
MC1mN2ZmYjAwMCByLS1wIDAwMDI2MDAwIDA4OjAxIDkxMDfCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgL3Vzci9saWIzMi9sZC1saW51
eC5zby4yCj4gZjdmZmIwMDAtZjdmZmQwMDAgci0tcCAwMDAzNDAwMCAwODowMSA5MTA3wqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIC91
c3IvbGliMzIvbGQtbGludXguc28uMgo+IGY3ZmZkMDAwLWY3ZmZlMDAwIHJ3LXAgMDAwMzYwMDAg
MDg6MDEgOTEwN8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoCAvdXNyL2xpYjMyL2xkLWxpbnV4LnNvLjIKPiBmZmZkZDAwMC1mZmZmZTAw
MCBydy1wIDAwMDAwMDAwIDAwOjAwIDDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgW3N0YWNrXQo+IAo+IElkZWFsbHksIHdl
IGNvdWxkIGNvbXBsZXRlbHkgZWxpbWluYXRlIHRoZSBkZXBlbmRlbmN5IG9uIGxpYmMuIEJlZm9y
ZSB0aGF0LAo+IHBlcmhhcHMgd2UgY291bGQgcmVzZXJ2ZSBhIHJlZ2lvbiBvZiBhZGRyZXNzIHNw
YWNlIGZvciBVTUwgd2l0aCBtbWFwKFBST1RfTk9ORSkuCgpZZWFoLCB0aGF0IGRvZXMgc2VlbSBy
ZWFzb25hYmxlLiBUaGF0IHNob3VsZCBhdCBsZWFzdCBwcm90ZWN0IHVzIGZyb20KbGliYyB1c2lu
ZyBvdXIgdm1hbGxvYyBhcmVhLiBBbmQgaXQgaXMgZWFzeSB0byBkbywgYXMgaXQganVzdCBuZWVk
cyBhbgppbml0aWFsIG1tYXAgYW5kIGNoYW5naW5nIHRoZSBrZXJuX3VubWFwIGltcGxlbWVudGF0
aW9uIGluIHRsYi5jCgpCZW5qYW1pbgo=


