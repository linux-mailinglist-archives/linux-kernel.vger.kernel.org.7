Return-Path: <linux-kernel+bounces-770471-lists+linux-kernel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from am.mirrors.kernel.org (am.mirrors.kernel.org [IPv6:2604:1380:4601:e00::3])
	by mail.lfdr.de (Postfix) with ESMTPS id D2C04B27B42
	for <lists+linux-kernel@lfdr.de>; Fri, 15 Aug 2025 10:38:30 +0200 (CEST)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by am.mirrors.kernel.org (Postfix) with ESMTPS id D8C0C18971ED
	for <lists+linux-kernel@lfdr.de>; Fri, 15 Aug 2025 08:38:49 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id BC74A29D28F;
	Fri, 15 Aug 2025 08:37:43 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="Ufe7daC3"
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id C03CC232395;
	Fri, 15 Aug 2025 08:37:41 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1755247061; cv=none; b=TVC2uj5tonwlCLmwcUWDHof8ghzMGtwjJ69Zavwd0MRepYvX3YbcLFSNFkwQTo7rJ+gm2V6vnQ/l4TwoCeNf8H0PpU0ANkox/EKKjp/ZLHdKFnbHHbD3G0rSlgyaz1HFwSGrJ1F24EFhvY1PIXFBOmWaxfjKsbHYP63Hi24fM28=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1755247061; c=relaxed/simple;
	bh=IZzozddZKK3qseZKJPZgjCWkyusUVy6uTF1/NDEakqw=;
	h=From:Date:Subject:MIME-Version:Content-Type:Message-Id:References:
	 In-Reply-To:To:Cc; b=Pbm4lVW/QAaeRuyGCcAUdjdi6mHitaQFeN2zfUxjcNstjFQPbpd84XU6mvwnXH01lbZh3FK1JiwgjGyPm/+y3c87A0fYZh23MZOwiwjVcvLRF1TJln5XQROoCs96HfrnWShG2/Do8yOqgwdDHla3IilAexkGz5zCWBEzY9cj+VM=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=Ufe7daC3; arc=none smtp.client-ip=10.30.226.201
Received: by smtp.kernel.org (Postfix) with ESMTPS id 5F7B3C4CEF9;
	Fri, 15 Aug 2025 08:37:41 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1755247061;
	bh=IZzozddZKK3qseZKJPZgjCWkyusUVy6uTF1/NDEakqw=;
	h=From:Date:Subject:References:In-Reply-To:To:Cc:Reply-To:From;
	b=Ufe7daC3oSHWi/4KrVWZLkzDMWNa19H0yPddvjvPOGfwx2CY7Z2GUu6m0N2ewHL8c
	 IpY63Oy1eGh8we1LCJUSXUJixq6ChhAfNsoKpb4QLlofrotU41WNjHkNlvxVtCqNwD
	 jpNTGMzxVZiOWBw4YQ2VRWdRGcE3Wi129bkWKaJeE+wVlw33WPZVMtvqjxtnPB+jho
	 qoc97UEubv4FPQcKybVtAXmb+uLEfAvNCYDxfCSPXFapPpWDEHHmTCdgZfxhacWLpP
	 m+wGhqzFEtOQU1MWcJL8GdFyjBlayEukZywDYdAHml2fZ4sPOdFWes/WboNdNtozRM
	 3kJcXr/8GA5Rw==
Received: from aws-us-west-2-korg-lkml-1.web.codeaurora.org (localhost.localdomain [127.0.0.1])
	by smtp.lore.kernel.org (Postfix) with ESMTP id 56518CA0EE8;
	Fri, 15 Aug 2025 08:37:41 +0000 (UTC)
From: Chuan Liu via B4 Relay <devnull+chuan.liu.amlogic.com@kernel.org>
Date: Fri, 15 Aug 2025 16:37:30 +0800
Subject: [PATCH 04/13] arm64: dts: amlogic: add clk-measure IDs and names
 for Amlogic SoCs
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 7bit
Message-Id: <20250815-add-more-socs-to-support-clk_measure-v1-4-59f04ba67457@amlogic.com>
References: <20250815-add-more-socs-to-support-clk_measure-v1-0-59f04ba67457@amlogic.com>
In-Reply-To: <20250815-add-more-socs-to-support-clk_measure-v1-0-59f04ba67457@amlogic.com>
To: Rob Herring <robh@kernel.org>, Krzysztof Kozlowski <krzk+dt@kernel.org>, 
 Conor Dooley <conor+dt@kernel.org>, 
 Neil Armstrong <neil.armstrong@linaro.org>, 
 Kevin Hilman <khilman@baylibre.com>, Jerome Brunet <jbrunet@baylibre.com>, 
 Martin Blumenstingl <martin.blumenstingl@googlemail.com>
Cc: devicetree@vger.kernel.org, linux-arm-kernel@lists.infradead.org, 
 linux-amlogic@lists.infradead.org, linux-kernel@vger.kernel.org, 
 Chuan Liu <chuan.liu@amlogic.com>
X-Mailer: b4 0.14.1
X-Developer-Signature: v=1; a=ed25519-sha256; t=1755247057; l=31530;
 i=chuan.liu@amlogic.com; s=20240902; h=from:subject:message-id;
 bh=/74iuxDUmjR0pQ+YGmzEFkR8awBm8pZpSTOR7ZHIEkU=;
 b=4vRtJBQugrcnbJVCOYi5eembF4REhc4su+qKhn4hnOLzKlJAWMTHTQcE4dD/5vFPJBMqn1yy0
 0rbDR6iDLttAKatI87j+TsH8yz7ZfAYSgmqRmOGwsxANi0TEJX/ZvoL
X-Developer-Key: i=chuan.liu@amlogic.com; a=ed25519;
 pk=fnKDB+81SoWGKW2GJNFkKy/ULvsDmJZRGBE7pR5Xcpo=
X-Endpoint-Received: by B4 Relay for chuan.liu@amlogic.com/20240902 with
 auth_id=203
X-Original-From: Chuan Liu <chuan.liu@amlogic.com>
Reply-To: chuan.liu@amlogic.com

From: Chuan Liu <chuan.liu@amlogic.com>

Add clk-measure IDs and names to the DTS of all Amlogic SoCs.

Signed-off-by: Chuan Liu <chuan.liu@amlogic.com>
---
 arch/arm64/boot/dts/amlogic/amlogic-c3.dtsi | 273 +++++++++++++++++++++++++
 arch/arm64/boot/dts/amlogic/meson-axg.dtsi  | 142 +++++++++++++
 arch/arm64/boot/dts/amlogic/meson-g12a.dtsi | 229 +++++++++++++++++++++
 arch/arm64/boot/dts/amlogic/meson-gx.dtsi   | 134 +++++++++++++
 arch/arm64/boot/dts/amlogic/meson-s4.dtsi   | 299 ++++++++++++++++++++++++++++
 arch/arm64/boot/dts/amlogic/meson-sm1.dtsi  | 254 +++++++++++++++++++++++
 6 files changed, 1331 insertions(+)

diff --git a/arch/arm64/boot/dts/amlogic/amlogic-c3.dtsi b/arch/arm64/boot/dts/amlogic/amlogic-c3.dtsi
index cb9ea3ca6ee0..ab9ebabce171 100644
--- a/arch/arm64/boot/dts/amlogic/amlogic-c3.dtsi
+++ b/arch/arm64/boot/dts/amlogic/amlogic-c3.dtsi
@@ -763,6 +763,279 @@ internal_ephy: ethernet_phy@8 {
 			clk_msr: clock-measure@48000 {
 				compatible = "amlogic,c3-clk-measure";
 				reg = <0x0 0x48000 0x0 0x1c>;
+				clkmsr-reg-v2;
+				clkmsr-indices = <0>,
+						 <1>,
+						 <2>,
+						 <3>,
+						 <4>,
+						 <5>,
+						 <6>,
+						 <7>,
+						 <8>,
+						 <9>,
+						 <10>,
+						 <11>,
+						 <12>,
+						 <13>,
+						 <15>,
+						 <16>,
+						 <17>,
+						 <19>,
+						 <20>,
+						 <21>,
+						 <22>,
+						 <23>,
+						 <24>,
+						 <26>,
+						 <27>,
+						 <28>,
+						 <29>,
+						 <30>,
+						 <31>,
+						 <32>,
+						 <33>,
+						 <34>,
+						 <36>,
+						 <37>,
+						 <38>,
+						 <39>,
+						 <40>,
+						 <66>,
+						 <67>,
+						 <68>,
+						 <70>,
+						 <71>,
+						 <79>,
+						 <94>,
+						 <95>,
+						 <96>,
+						 <97>,
+						 <106>,
+						 <107>,
+						 <108>,
+						 <110>,
+						 <111>,
+						 <112>,
+						 <113>,
+						 <114>,
+						 <115>,
+						 <116>,
+						 <117>,
+						 <118>,
+						 <122>,
+						 <124>,
+						 <125>,
+						 <126>,
+						 <127>,
+						 <128>,
+						 <129>,
+						 <130>,
+						 <131>,
+						 <132>,
+						 <133>,
+						 <134>,
+						 <135>,
+						 <136>,
+						 <137>,
+						 <138>,
+						 <139>,
+						 <140>,
+						 <141>,
+						 <142>,
+						 <143>,
+						 <144>,
+						 <145>,
+						 <146>,
+						 <147>,
+						 <148>,
+						 <149>,
+						 <150>,
+						 <151>,
+						 <152>,
+						 <153>,
+						 <154>,
+						 <155>,
+						 <156>,
+						 <157>,
+						 <158>,
+						 <159>,
+						 <160>,
+						 <161>,
+						 <162>,
+						 <163>,
+						 <164>,
+						 <165>,
+						 <166>,
+						 <167>,
+						 <168>,
+						 <169>,
+						 <170>,
+						 <171>,
+						 <172>,
+						 <173>,
+						 <174>,
+						 <175>,
+						 <176>,
+						 <177>,
+						 <178>,
+						 <179>,
+						 <180>,
+						 <181>,
+						 <182>,
+						 <183>,
+						 <184>,
+						 <185>,
+						 <186>,
+						 <187>,
+						 <188>,
+						 <189>,
+						 <190>,
+						 <191>,
+						 <192>,
+						 <193>,
+						 <194>,
+						 <195>,
+						 <200>,
+						 <201>,
+						 <202>,
+						 <203>;
+				clkmsr-names = "sys_clk",
+					       "axi_clk",
+					       "rtc_clk",
+					       "p20_usb2_ckout",
+					       "eth_mpll_test",
+					       "sys_pll",
+					       "cpu_clk_div16",
+					       "ts_pll",
+					       "fclk_div2",
+					       "fclk_div2p5",
+					       "fclk_div3",
+					       "fclk_div4",
+					       "fclk_div5",
+					       "fclk_div7",
+					       "fclk_50m",
+					       "sys_oscin32k_i",
+					       "mclk_pll",
+					       "hifi_pll",
+					       "gp0_pll",
+					       "gp1_pll",
+					       "eth_mppll_50m_ckout",
+					       "sys_pll_div16",
+					       "ddr_dpll_pt_clk",
+					       "nna_core",
+					       "rtc_sec_pulse_out",
+					       "rtc_osc_clk_out",
+					       "debug_in_clk",
+					       "mod_eth_phy_ref_clk",
+					       "mod_eth_tx_clk",
+					       "eth_125m",
+					       "eth_rmii",
+					       "co_clkin_to_mac",
+					       "co_rx_clk",
+					       "co_tx_clk",
+					       "eth_phy_rxclk",
+					       "eth_phy_plltxclk",
+					       "ephy_test_clk",
+					       "vapb",
+					       "ge2d",
+					       "dewarpa",
+					       "mipi_dsi_meas",
+					       "dsi_phy",
+					       "rama",
+					       "vc9000e_core",
+					       "vc9000e_sys",
+					       "vc9000e_aclk",
+					       "hcodec",
+					       "deskew_pll_clk_div32_out",
+					       "mipi_csi_phy_clk_out[0]",
+					       "mipi_csi_phy_clk_out[1]",
+					       "spifc",
+					       "saradc",
+					       "ts",
+					       "sd_emmc_c",
+					       "sd_emmc_b",
+					       "sd_emmc_a",
+					       "gpio_msr_clk",
+					       "spicc_b",
+					       "spicc_a",
+					       "mod_audio_pdm_dclk_o",
+					       "o_earcrx_dmac_clk",
+					       "o_earcrx_cmdc_clk",
+					       "o_earctx_dmac_clk",
+					       "o_earctx_cmdc_clk",
+					       "o_tohdmitx_bclk",
+					       "o_tohdmitx_mclk",
+					       "o_tohdmitx_spdif_clk",
+					       "o_toacodec_bclk",
+					       "o_toacodec_mclk",
+					       "o_spdifout_b_mst_clk",
+					       "o_spdifout_mst_clk",
+					       "o_spdifin_mst_clk",
+					       "o_audio_mclk",
+					       "o_vad_clk",
+					       "o_tdmout_d_sclk",
+					       "o_tdmout_c_sclk",
+					       "o_tdmout_b_sclk",
+					       "o_tdmout_a_sclk",
+					       "o_tdminb_1b_sclk",
+					       "o_tdmin_1b_sclk",
+					       "o_tdmin_d_sclk",
+					       "o_tdmin_c_sclk",
+					       "o_tdmin_b_sclk",
+					       "o_tdmin_a_sclk",
+					       "o_resampleb_clk",
+					       "o_resamplea_clk",
+					       "o_pdmb_sysclk",
+					       "o_pdmb_dclk",
+					       "o_pdm_sysclk",
+					       "o_pdm_dclk",
+					       "c_alockerb_out_clk",
+					       "c_alockerb_in_clk",
+					       "c_alocker_out_clk",
+					       "c_alocker_in_clk",
+					       "audio_mst_clk[34]",
+					       "audio_mst_clk[35]",
+					       "pwm_n",
+					       "pwm_m",
+					       "pwm_l",
+					       "pwm_k",
+					       "pwm_j",
+					       "pwm_i",
+					       "pwm_h",
+					       "pwm_g",
+					       "pwm_f",
+					       "pwm_e",
+					       "pwm_d",
+					       "pwm_c",
+					       "pwm_b",
+					       "pwm_a",
+					       "AU_DAC1_CLK_TO_GPIO",
+					       "AU_ADC_CLK_TO_GPIO",
+					       "rng_ring_osc_clk[0]",
+					       "rng_ring_osc_clk[1]",
+					       "rng_ring_osc_clk[2]",
+					       "rng_ring_osc_clk[3]",
+					       "sys_cpu_ring_osc_clk[0]",
+					       "sys_cpu_ring_osc_clk[1]",
+					       "sys_cpu_ring_osc_clk[2]",
+					       "sys_cpu_ring_osc_clk[3]",
+					       "sys_cpu_ring_osc_clk[4]",
+					       "sys_cpu_ring_osc_clk[5]",
+					       "sys_cpu_ring_osc_clk[6]",
+					       "sys_cpu_ring_osc_clk[7]",
+					       "sys_cpu_ring_osc_clk[8]",
+					       "sys_cpu_ring_osc_clk[9]",
+					       "sys_cpu_ring_osc_clk[10]",
+					       "sys_cpu_ring_osc_clk[11]",
+					       "am_ring_osc_clk_out[12](dmc)",
+					       "am_ring_osc_clk_out[13](rama)",
+					       "am_ring_osc_clk_out[14](nna)",
+					       "am_ring_osc_clk_out[15](nna)",
+					       "rng_ring_osc_clk_1[0]",
+					       "rng_ring_osc_clk_1[1]",
+					       "rng_ring_osc_clk_1[2]",
+					       "rng_ring_osc_clk_1[3]";
 			};
 
 			spicc0: spi@50000 {
diff --git a/arch/arm64/boot/dts/amlogic/meson-axg.dtsi b/arch/arm64/boot/dts/amlogic/meson-axg.dtsi
index 2df143aa77ce..d4a4a037e0f6 100644
--- a/arch/arm64/boot/dts/amlogic/meson-axg.dtsi
+++ b/arch/arm64/boot/dts/amlogic/meson-axg.dtsi
@@ -1860,6 +1860,148 @@ spicc1: spi@15000 {
 			clk_msr: clock-measure@18000 {
 				compatible = "amlogic,meson-axg-clk-measure";
 				reg = <0x0 0x18000 0x0 0x10>;
+				clkmsr-indices = <0>,
+						 <1>,
+						 <2>,
+						 <3>,
+						 <4>,
+						 <5>,
+						 <7>,
+						 <9>,
+						 <17>,
+						 <18>,
+						 <20>,
+						 <23>,
+						 <28>,
+						 <31>,
+						 <40>,
+						 <41>,
+						 <42>,
+						 <43>,
+						 <44>,
+						 <45>,
+						 <46>,
+						 <47>,
+						 <48>,
+						 <49>,
+						 <50>,
+						 <51>,
+						 <52>,
+						 <61>,
+						 <66>,
+						 <67>,
+						 <68>,
+						 <69>,
+						 <70>,
+						 <71>,
+						 <72>,
+						 <73>,
+						 <74>,
+						 <75>,
+						 <76>,
+						 <77>,
+						 <78>,
+						 <79>,
+						 <80>,
+						 <81>,
+						 <82>,
+						 <84>,
+						 <85>,
+						 <86>,
+						 <87>,
+						 <88>,
+						 <89>,
+						 <90>,
+						 <91>,
+						 <92>,
+						 <93>,
+						 <94>,
+						 <95>,
+						 <96>,
+						 <97>,
+						 <98>,
+						 <99>,
+						 <100>,
+						 <101>,
+						 <102>,
+						 <103>,
+						 <104>,
+						 <105>,
+						 <106>,
+						 <107>,
+						 <108>,
+						 <109>;
+				clkmsr-names = "ring_osc_out_ee_0",
+					       "ring_osc_out_ee_1",
+					       "ring_osc_out_ee_2",
+					       "a53_ring_osc",
+					       "gp0_pll",
+					       "gp1_pll",
+					       "clk81",
+					       "encl",
+					       "sys_pll_div16",
+					       "sys_cpu_div16",
+					       "rtc_osc_out",
+					       "mmc_clk",
+					       "sar_adc",
+					       "mpll_test_out",
+					       "mod_eth_tx_clk",
+					       "mod_eth_rx_clk_rmii",
+					       "mp0_out",
+					       "fclk_div5",
+					       "pwm_b",
+					       "pwm_a",
+					       "vpu",
+					       "ddr_dpll_pt",
+					       "mp1_out",
+					       "mp2_out",
+					       "mp3_out",
+					       "sd_emmm_c",
+					       "sd_emmc_b",
+					       "gpio_msr",
+					       "audio_slv_lrclk_c",
+					       "audio_slv_lrclk_b",
+					       "audio_slv_lrclk_a",
+					       "audio_slv_sclk_c",
+					       "audio_slv_sclk_b",
+					       "audio_slv_sclk_a",
+					       "pwm_d",
+					       "pwm_c",
+					       "wifi_beacon",
+					       "tdmin_lb_lrcl",
+					       "tdmin_lb_sclk",
+					       "rng_ring_osc_0",
+					       "rng_ring_osc_1",
+					       "rng_ring_osc_2",
+					       "rng_ring_osc_3",
+					       "vapb",
+					       "ge2d",
+					       "audio_resample",
+					       "audio_pdm_sys",
+					       "audio_spdifout",
+					       "audio_spdifin",
+					       "audio_lrclk_f",
+					       "audio_lrclk_e",
+					       "audio_lrclk_d",
+					       "audio_lrclk_c",
+					       "audio_lrclk_b",
+					       "audio_lrclk_a",
+					       "audio_sclk_f",
+					       "audio_sclk_e",
+					       "audio_sclk_d",
+					       "audio_sclk_c",
+					       "audio_sclk_b",
+					       "audio_sclk_a",
+					       "audio_mclk_f",
+					       "audio_mclk_e",
+					       "audio_mclk_d",
+					       "audio_mclk_c",
+					       "audio_mclk_b",
+					       "audio_mclk_a",
+					       "pcie_refclk_n",
+					       "pcie_refclk_p",
+					       "audio_locker_out",
+					       "audio_locker_in";
 			};
 
 			i2c3: i2c@1c000 {
diff --git a/arch/arm64/boot/dts/amlogic/meson-g12a.dtsi b/arch/arm64/boot/dts/amlogic/meson-g12a.dtsi
index deee61dbe074..6e288ee31d32 100644
--- a/arch/arm64/boot/dts/amlogic/meson-g12a.dtsi
+++ b/arch/arm64/boot/dts/amlogic/meson-g12a.dtsi
@@ -120,3 +120,232 @@ map1 {
 &pmu {
 	compatible = "amlogic,g12a-ddr-pmu";
 };
+
+&clk_msr {
+	clkmsr-indices = <0>,
+			 <1>,
+			 <2>,
+			 <3>,
+			 <4>,
+			 <6>,
+			 <7>,
+			 <8>,
+			 <9>,
+			 <10>,
+			 <11>,
+			 <12>,
+			 <13>,
+			 <14>,
+			 <15>,
+			 <16>,
+			 <17>,
+			 <18>,
+			 <19>,
+			 <20>,
+			 <21>,
+			 <22>,
+			 <23>,
+			 <24>,
+			 <25>,
+			 <26>,
+			 <27>,
+			 <28>,
+			 <29>,
+			 <30>,
+			 <31>,
+			 <32>,
+			 <33>,
+			 <34>,
+			 <35>,
+			 <36>,
+			 <37>,
+			 <38>,
+			 <39>,
+			 <41>,
+			 <42>,
+			 <43>,
+			 <44>,
+			 <45>,
+			 <46>,
+			 <47>,
+			 <48>,
+			 <49>,
+			 <50>,
+			 <51>,
+			 <52>,
+			 <53>,
+			 <54>,
+			 <55>,
+			 <56>,
+			 <57>,
+			 <58>,
+			 <59>,
+			 <61>,
+			 <62>,
+			 <63>,
+			 <64>,
+			 <65>,
+			 <66>,
+			 <67>,
+			 <68>,
+			 <69>,
+			 <70>,
+			 <71>,
+			 <72>,
+			 <73>,
+			 <75>,
+			 <77>,
+			 <78>,
+			 <79>,
+			 <80>,
+			 <81>,
+			 <82>,
+			 <83>,
+			 <84>,
+			 <89>,
+			 <90>,
+			 <91>,
+			 <92>,
+			 <94>,
+			 <95>,
+			 <96>,
+			 <97>,
+			 <98>,
+			 <99>,
+			 <100>,
+			 <101>,
+			 <102>,
+			 <103>,
+			 <104>,
+			 <105>,
+			 <106>,
+			 <107>,
+			 <108>,
+			 <109>,
+			 <110>,
+			 <111>,
+			 <112>,
+			 <113>,
+			 <114>,
+			 <115>,
+			 <116>,
+			 <117>,
+			 <118>,
+			 <119>,
+			 <120>,
+			 <121>,
+			 <122>;
+	clkmsr-names = "ring_osc_out_ee_0",
+		       "ring_osc_out_ee_1",
+		       "ring_osc_out_ee_2",
+		       "sys_cpu_ring_osc",
+		       "gp0_pll",
+		       "enci",
+		       "clk81",
+		       "encp",
+		       "encl",
+		       "vdac",
+		       "eth_tx",
+		       "hifi_pll",
+		       "mod_tcon",
+		       "fec_0",
+		       "fec_1",
+		       "fec_2",
+		       "sys_pll_div16",
+		       "sys_cpu_div16",
+		       "lcd_an_ph2",
+		       "rtc_osc_out",
+		       "lcd_an_ph3",
+		       "eth_phy_ref",
+		       "mpll_50m",
+		       "eth_125m",
+		       "eth_rmii",
+		       "sc_int",
+		       "in_mac",
+		       "sar_adc",
+		       "pcie_inp",
+		       "pcie_inn",
+		       "mpll_test_out",
+		       "vdec",
+		       "sys_cpu_ring_osc_1",
+		       "eth_mpll_50m",
+		       "mali",
+		       "hdmi_tx_pixel",
+		       "cdac",
+		       "vdin_meas",
+		       "bt656",
+		       "eth_rx_or_rmii",
+		       "mp0_out",
+		       "fclk_div5",
+		       "pwm_b",
+		       "pwm_a",
+		       "vpu",
+		       "ddr_dpll_pt",
+		       "mp1_out",
+		       "mp2_out",
+		       "mp3_out",
+		       "sd_emmc_c",
+		       "sd_emmc_b",
+		       "sd_emmc_a",
+		       "vpu_clkc",
+		       "vid_pll_div_out",
+		       "wave420l_a",
+		       "wave420l_c",
+		       "wave420l_b",
+		       "hcodec",
+		       "gpio_msr",
+		       "hevcb",
+		       "dsi_meas",
+		       "spicc_1",
+		       "spicc_0",
+		       "vid_lock",
+		       "dsi_phy",
+		       "hdcp22_esm",
+		       "hdcp22_skp",
+		       "pwm_f",
+		       "pwm_e",
+		       "pwm_d",
+		       "pwm_c",
+		       "hevcf",
+		       "rng_ring_osc_0",
+		       "rng_ring_osc_1",
+		       "rng_ring_osc_2",
+		       "rng_ring_osc_3",
+		       "vapb",
+		       "ge2d",
+		       "co_rx",
+		       "co_tx",
+		       "hdmi_todig",
+		       "hdmitx_sys",
+		       "sys_cpub_div16",
+		       "sys_pll_cpub_div16",
+		       "eth_phy_rx",
+		       "eth_phy_pll",
+		       "vpu_b",
+		       "cpu_b_tmp",
+		       "ts",
+		       "ring_osc_out_ee_3",
+		       "ring_osc_out_ee_4",
+		       "ring_osc_out_ee_5",
+		       "ring_osc_out_ee_6",
+		       "ring_osc_out_ee_7",
+		       "ring_osc_out_ee_8",
+		       "ring_osc_out_ee_9",
+		       "ephy_test",
+		       "au_dac_g128x",
+		       "audio_locker_out",
+		       "audio_locker_in",
+		       "audio_tdmout_c_sclk",
+		       "audio_tdmout_b_sclk",
+		       "audio_tdmout_a_sclk",
+		       "audio_tdmin_lb_sclk",
+		       "audio_tdmin_c_sclk",
+		       "audio_tdmin_b_sclk",
+		       "audio_tdmin_a_sclk",
+		       "audio_resample",
+		       "audio_pdm_sys",
+		       "audio_spdifout_b",
+		       "audio_spdifout",
+		       "audio_spdifin",
+		       "audio_pdm_dclk";
+};
diff --git a/arch/arm64/boot/dts/amlogic/meson-gx.dtsi b/arch/arm64/boot/dts/amlogic/meson-gx.dtsi
index 7d99ca44e660..4510e3403174 100644
--- a/arch/arm64/boot/dts/amlogic/meson-gx.dtsi
+++ b/arch/arm64/boot/dts/amlogic/meson-gx.dtsi
@@ -367,6 +367,140 @@ uart_C: serial@8700 {
 			clock-measure@8758 {
 				compatible = "amlogic,meson-gx-clk-measure";
 				reg = <0x0 0x8758 0x0 0x10>;
+				clkmsr-indices = <0>,
+						 <1>,
+						 <2>,
+						 <3>,
+						 <4>,
+						 <6>,
+						 <7>,
+						 <8>,
+						 <9>,
+						 <10>,
+						 <11>,
+						 <12>,
+						 <13>,
+						 <14>,
+						 <15>,
+						 <16>,
+						 <17>,
+						 <18>,
+						 <19>,
+						 <20>,
+						 <21>,
+						 <22>,
+						 <23>,
+						 <26>,
+						 <28>,
+						 <31>,
+						 <32>,
+						 <35>,
+						 <36>,
+						 <37>,
+						 <38>,
+						 <39>,
+						 <40>,
+						 <41>,
+						 <42>,
+						 <43>,
+						 <44>,
+						 <45>,
+						 <46>,
+						 <47>,
+						 <48>,
+						 <49>,
+						 <50>,
+						 <51>,
+						 <52>,
+						 <53>,
+						 <55>,
+						 <56>,
+						 <57>,
+						 <58>,
+						 <59>,
+						 <60>,
+						 <61>,
+						 <62>,
+						 <66>,
+						 <70>,
+						 <71>,
+						 <72>,
+						 <73>,
+						 <75>,
+						 <76>,
+						 <77>,
+						 <78>,
+						 <79>,
+						 <80>,
+						 <81>,
+						 <82>;
+				clkmsr-names = "ring_osc_out_ee_0",
+					       "ring_osc_out_ee_1",
+					       "ring_osc_out_ee_2",
+					       "a53_ring_osc",
+					       "gp0_pll",
+					       "enci",
+					       "clk81",
+					       "encp",
+					       "encl",
+					       "vdac",
+					       "rgmii_tx",
+					       "pdm",
+					       "amclk",
+					       "fec_0",
+					       "fec_1",
+					       "fec_2",
+					       "sys_pll_div16",
+					       "sys_cpu_div16",
+					       "hdmitx_sys",
+					       "rtc_osc_out",
+					       "i2s_in_src0",
+					       "eth_phy_ref",
+					       "hdmi_todig",
+					       "sc_int",
+					       "sar_adc",
+					       "mpll_test_out",
+					       "vdec",
+					       "mali",
+					       "hdmi_tx_pixel",
+					       "i958",
+					       "vdin_meas",
+					       "pcm_sclk",
+					       "pcm_mclk",
+					       "eth_rx_or_rmii",
+					       "mp0_out",
+					       "fclk_div5",
+					       "pwm_b",
+					       "pwm_a",
+					       "vpu",
+					       "ddr_dpll_pt",
+					       "mp1_out",
+					       "mp2_out",
+					       "mp3_out",
+					       "nand_core",
+					       "sd_emmc_b",
+					       "sd_emmc_a",
+					       "vid_pll_div_out",
+					       "cci",
+					       "wave420l_c",
+					       "wave420l_b",
+					       "hcodec",
+					       "alt_32k",
+					       "gpio_msr",
+					       "hevc",
+					       "vid_lock",
+					       "pwm_f",
+					       "pwm_e",
+					       "pwm_d",
+					       "pwm_c",
+					       "aoclkx2_int",
+					       "aoclk_int",
+					       "rng_ring_osc_0",
+					       "rng_ring_osc_1",
+					       "rng_ring_osc_2",
+					       "rng_ring_osc_3",
+					       "vapb",
+					       "ge2d";
 			};
 
 			i2c_B: i2c@87c0 {
diff --git a/arch/arm64/boot/dts/amlogic/meson-s4.dtsi b/arch/arm64/boot/dts/amlogic/meson-s4.dtsi
index 9d99ed2994df..21a9fb27ee3f 100644
--- a/arch/arm64/boot/dts/amlogic/meson-s4.dtsi
+++ b/arch/arm64/boot/dts/amlogic/meson-s4.dtsi
@@ -632,6 +632,305 @@ internal_ephy: ethernet-phy@8 {
 			clk_msr: clock-measure@48000 {
 				compatible = "amlogic,s4-clk-measure";
 				reg = <0x0 0x48000 0x0 0x1c>;
+				clkmsr-reg-v2;
+				clkmsr-indices = <0>,
+						 <1>,
+						 <2>,
+						 <5>,
+						 <6>,
+						 <7>,
+						 <8>,
+						 <10>,
+						 <11>,
+						 <12>,
+						 <13>,
+						 <14>,
+						 <15>,
+						 <16>,
+						 <17>,
+						 <18>,
+						 <19>,
+						 <20>,
+						 <21>,
+						 <22>,
+						 <23>,
+						 <24>,
+						 <30>,
+						 <31>,
+						 <32>,
+						 <33>,
+						 <34>,
+						 <35>,
+						 <36>,
+						 <37>,
+						 <38>,
+						 <39>,
+						 <40>,
+						 <50>,
+						 <51>,
+						 <52>,
+						 <53>,
+						 <54>,
+						 <55>,
+						 <56>,
+						 <57>,
+						 <58>,
+						 <59>,
+						 <60>,
+						 <61>,
+						 <62>,
+						 <63>,
+						 <64>,
+						 <65>,
+						 <66>,
+						 <67>,
+						 <68>,
+						 <69>,
+						 <76>,
+						 <77>,
+						 <78>,
+						 <79>,
+						 <93>,
+						 <99>,
+						 <100>,
+						 <101>,
+						 <102>,
+						 <103>,
+						 <104>,
+						 <105>,
+						 <106>,
+						 <110>,
+						 <111>,
+						 <113>,
+						 <114>,
+						 <115>,
+						 <116>,
+						 <118>,
+						 <121>,
+						 <130>,
+						 <131>,
+						 <132>,
+						 <133>,
+						 <134>,
+						 <135>,
+						 <136>,
+						 <137>,
+						 <138>,
+						 <139>,
+						 <140>,
+						 <141>,
+						 <142>,
+						 <143>,
+						 <144>,
+						 <145>,
+						 <146>,
+						 <147>,
+						 <160>,
+						 <161>,
+						 <162>,
+						 <163>,
+						 <164>,
+						 <165>,
+						 <166>,
+						 <167>,
+						 <168>,
+						 <169>,
+						 <176>,
+						 <177>,
+						 <178>,
+						 <179>,
+						 <180>,
+						 <181>,
+						 <182>,
+						 <183>,
+						 <184>,
+						 <185>,
+						 <186>,
+						 <187>,
+						 <188>,
+						 <189>,
+						 <190>,
+						 <192>,
+						 <193>,
+						 <194>,
+						 <195>,
+						 <196>,
+						 <197>,
+						 <198>,
+						 <199>,
+						 <200>,
+						 <201>,
+						 <202>,
+						 <203>,
+						 <204>,
+						 <205>,
+						 <206>,
+						 <207>,
+						 <208>,
+						 <209>,
+						 <210>,
+						 <211>,
+						 <212>,
+						 <213>,
+						 <214>,
+						 <215>,
+						 <216>,
+						 <217>,
+						 <218>,
+						 <219>,
+						 <220>,
+						 <221>,
+						 <222>,
+						 <223>;
+				clkmsr-names = "sys_clk",
+					       "axi_clk",
+					       "rtc_clk",
+					       "mali",
+					       "cpu_clk_div16",
+					       "ceca_clk",
+					       "cecb_clk",
+					       "fclk_div5",
+					       "mpll0",
+					       "mpll1",
+					       "mpll2",
+					       "mpll3",
+					       "fclk_50m",
+					       "pcie_clk_inp",
+					       "pcie_clk_inn",
+					       "mpll_clk_test_out",
+					       "hifi_pll",
+					       "gp0_pll",
+					       "gp1_pll",
+					       "eth_mppll_50m_ckout",
+					       "sys_pll_div16",
+					       "ddr_dpll_pt_clk",
+					       "mod_eth_phy_ref_clk",
+					       "mod_eth_tx_clk",
+					       "eth_125m",
+					       "eth_rmii",
+					       "co_clkin_to_mac",
+					       "mod_eth_rx_clk_rmii",
+					       "co_rx_clk",
+					       "co_tx_clk",
+					       "eth_phy_rxclk",
+					       "eth_phy_plltxclk",
+					       "ephy_test_clk",
+					       "vid_pll_div_clk_out",
+					       "enci",
+					       "encp",
+					       "encl",
+					       "vdac",
+					       "cdac_clk_c",
+					       "mod_tcon_clko",
+					       "lcd_an_clk_ph2",
+					       "lcd_an_clk_ph3",
+					       "hdmitx_pixel",
+					       "vdin_meas",
+					       "vpu",
+					       "vpu_clkb",
+					       "vpu_clkb_tmp",
+					       "vpu_clkc",
+					       "vid_lock",
+					       "vapb",
+					       "ge2d",
+					       "cts_hdcp22_esmclk",
+					       "cts_hdcp22_skpclk",
+					       "hdmitx_tmds",
+					       "hdmitx_sys_clk",
+					       "hdmitx_fe_clk",
+					       "rama",
+					       "vdec",
+					       "hevcf",
+					       "demod_core",
+					       "adc_extclk_in",
+					       "cts_demod_core_t2_clk",
+					       "adc_dpll_intclk",
+					       "adc_dpll_clk_b3",
+					       "s2_adc_clk",
+					       "deskew_pll_clk_div32_out",
+					       "sc",
+					       "sar_adc",
+					       "sd_emmc_c",
+					       "sd_emmc_b",
+					       "sd_emmc_a",
+					       "gpio_msr_clk",
+					       "spicc0",
+					       "ts",
+					       "audio_vad_clk",
+					       "acodec_dac_clk_x128",
+					       "audio_locker_in_clk",
+					       "audio_locker_out_clk",
+					       "audio_tdmout_c_sclk",
+					       "audio_tdmout_b_sclk",
+					       "audio_tdmout_a_sclk",
+					       "audio_tdmin_lb_sclk",
+					       "audio_tdmin_c_sclk",
+					       "audio_tdmin_b_sclk",
+					       "audio_tdmin_a_sclk",
+					       "audio_resamplea_clk",
+					       "audio_pdm_sysclk",
+					       "audio_spdifout_b_mst_clk",
+					       "audio_spdifout_mst_clk",
+					       "audio_spdifin_mst_clk",
+					       "audio_pdm_dclk",
+					       "audio_resampleb_clk",
+					       "pwm_j",
+					       "pwm_i",
+					       "pwm_h",
+					       "pwm_g",
+					       "pwm_f",
+					       "pwm_e",
+					       "pwm_d",
+					       "pwm_c",
+					       "pwm_b",
+					       "pwm_a",
+					       "rng_ring_0",
+					       "rng_ring_1",
+					       "rng_ring_2",
+					       "rng_ring_3",
+					       "dmc_osc_ring(LVT16)",
+					       "gpu_osc_ring0(LVT16)",
+					       "gpu_osc_ring1(ULVT16)",
+					       "gpu_osc_ring2(SLVT16)",
+					       "vpu_osc_ring0(SVT24)",
+					       "vpu_osc_ring1(LVT20)",
+					       "vpu_osc_ring2(LVT16)",
+					       "dos_osc_ring0(SVT24)",
+					       "dos_osc_ring1(SVT16)",
+					       "dos_osc_ring2(LVT16)",
+					       "dos_osc_ring3(ULVT20)",
+					       "axi_sram_osc_ring(SVT16)",
+					       "demod_osc_ring0",
+					       "demod_osc_ring1",
+					       "sar_osc_ring",
+					       "sys_cpu_osc_ring0",
+					       "sys_cpu_osc_ring1",
+					       "sys_cpu_osc_ring2",
+					       "sys_cpu_osc_ring3",
+					       "sys_cpu_osc_ring4",
+					       "sys_cpu_osc_ring5",
+					       "sys_cpu_osc_ring6",
+					       "sys_cpu_osc_ring7",
+					       "sys_cpu_osc_ring8",
+					       "sys_cpu_osc_ring9",
+					       "sys_cpu_osc_ring10",
+					       "sys_cpu_osc_ring11",
+					       "sys_cpu_osc_ring12",
+					       "sys_cpu_osc_ring13",
+					       "sys_cpu_osc_ring14",
+					       "sys_cpu_osc_ring15",
+					       "sys_cpu_osc_ring16",
+					       "sys_cpu_osc_ring17",
+					       "sys_cpu_osc_ring18",
+					       "sys_cpu_osc_ring19",
+					       "sys_cpu_osc_ring20",
+					       "sys_cpu_osc_ring21",
+					       "sys_cpu_osc_ring22",
+					       "sys_cpu_osc_ring23",
+					       "sys_cpu_osc_ring24",
+					       "sys_cpu_osc_ring25",
+					       "sys_cpu_osc_ring26",
+					       "sys_cpu_osc_ring27";
 			};
 
 			spicc0: spi@50000 {
diff --git a/arch/arm64/boot/dts/amlogic/meson-sm1.dtsi b/arch/arm64/boot/dts/amlogic/meson-sm1.dtsi
index 966ebb19cc55..8ecf876c73ee 100644
--- a/arch/arm64/boot/dts/amlogic/meson-sm1.dtsi
+++ b/arch/arm64/boot/dts/amlogic/meson-sm1.dtsi
@@ -479,6 +479,260 @@ &cecb_AO {
 
 &clk_msr {
 	compatible = "amlogic,meson-sm1-clk-measure";
+	clkmsr-indices = <0>,
+			 <1>,
+			 <2>,
+			 <3>,
+			 <4>,
+			 <5>,
+			 <6>,
+			 <7>,
+			 <8>,
+			 <9>,
+			 <10>,
+			 <11>,
+			 <12>,
+			 <13>,
+			 <14>,
+			 <15>,
+			 <16>,
+			 <17>,
+			 <18>,
+			 <19>,
+			 <20>,
+			 <21>,
+			 <22>,
+			 <23>,
+			 <24>,
+			 <25>,
+			 <26>,
+			 <27>,
+			 <28>,
+			 <29>,
+			 <30>,
+			 <31>,
+			 <32>,
+			 <34>,
+			 <35>,
+			 <36>,
+			 <37>,
+			 <38>,
+			 <39>,
+			 <40>,
+			 <41>,
+			 <42>,
+			 <43>,
+			 <44>,
+			 <45>,
+			 <46>,
+			 <47>,
+			 <48>,
+			 <49>,
+			 <50>,
+			 <51>,
+			 <52>,
+			 <53>,
+			 <54>,
+			 <55>,
+			 <56>,
+			 <57>,
+			 <58>,
+			 <59>,
+			 <60>,
+			 <61>,
+			 <62>,
+			 <63>,
+			 <64>,
+			 <65>,
+			 <66>,
+			 <67>,
+			 <68>,
+			 <69>,
+			 <70>,
+			 <71>,
+			 <72>,
+			 <73>,
+			 <74>,
+			 <75>,
+			 <76>,
+			 <77>,
+			 <78>,
+			 <79>,
+			 <80>,
+			 <81>,
+			 <82>,
+			 <83>,
+			 <84>,
+			 <85>,
+			 <86>,
+			 <87>,
+			 <88>,
+			 <89>,
+			 <90>,
+			 <91>,
+			 <92>,
+			 <93>,
+			 <94>,
+			 <95>,
+			 <96>,
+			 <97>,
+			 <98>,
+			 <99>,
+			 <100>,
+			 <101>,
+			 <102>,
+			 <103>,
+			 <104>,
+			 <105>,
+			 <106>,
+			 <107>,
+			 <108>,
+			 <109>,
+			 <110>,
+			 <111>,
+			 <112>,
+			 <113>,
+			 <114>,
+			 <115>,
+			 <116>,
+			 <117>,
+			 <118>,
+			 <119>,
+			 <120>,
+			 <121>,
+			 <122>,
+			 <123>,
+			 <124>,
+			 <125>,
+			 <126>,
+			 <127>;
+	clkmsr-names = "ring_osc_out_ee_0",
+		       "ring_osc_out_ee_1",
+		       "ring_osc_out_ee_2",
+		       "ring_osc_out_ee_3",
+		       "gp0_pll",
+		       "gp1_pll",
+		       "enci",
+		       "clk81",
+		       "encp",
+		       "encl",
+		       "vdac",
+		       "eth_tx",
+		       "hifi_pll",
+		       "mod_tcon",
+		       "fec_0",
+		       "fec_1",
+		       "fec_2",
+		       "sys_pll_div16",
+		       "sys_cpu_div16",
+		       "lcd_an_ph2",
+		       "rtc_osc_out",
+		       "lcd_an_ph3",
+		       "eth_phy_ref",
+		       "mpll_50m",
+		       "eth_125m",
+		       "eth_rmii",
+		       "sc_int",
+		       "in_mac",
+		       "sar_adc",
+		       "pcie_inp",
+		       "pcie_inn",
+		       "mpll_test_out",
+		       "vdec",
+		       "eth_mpll_50m",
+		       "mali",
+		       "hdmi_tx_pixel",
+		       "cdac",
+		       "vdin_meas",
+		       "bt656",
+		       "arm_ring_osc_out_4",
+		       "eth_rx_or_rmii",
+		       "mp0_out",
+		       "fclk_div5",
+		       "pwm_b",
+		       "pwm_a",
+		       "vpu",
+		       "ddr_dpll_pt",
+		       "mp1_out",
+		       "mp2_out",
+		       "mp3_out",
+		       "sd_emmc_c",
+		       "sd_emmc_b",
+		       "sd_emmc_a",
+		       "vpu_clkc",
+		       "vid_pll_div_out",
+		       "wave420l_a",
+		       "wave420l_c",
+		       "wave420l_b",
+		       "hcodec",
+		       "arm_ring_osc_out_5",
+		       "gpio_msr",
+		       "hevcb",
+		       "dsi_meas",
+		       "spicc_1",
+		       "spicc_0",
+		       "vid_lock",
+		       "dsi_phy",
+		       "hdcp22_esm",
+		       "hdcp22_skp",
+		       "pwm_f",
+		       "pwm_e",
+		       "pwm_d",
+		       "pwm_c",
+		       "arm_ring_osc_out_6",
+		       "hevcf",
+		       "arm_ring_osc_out_7",
+		       "rng_ring_osc_0",
+		       "rng_ring_osc_1",
+		       "rng_ring_osc_2",
+		       "rng_ring_osc_3",
+		       "vapb",
+		       "ge2d",
+		       "co_rx",
+		       "co_tx",
+		       "arm_ring_osc_out_8",
+		       "arm_ring_osc_out_9",
+		       "mipi_dsi_phy",
+		       "cis2_adapt",
+		       "hdmi_todig",
+		       "hdmitx_sys",
+		       "nna_core",
+		       "nna_axi",
+		       "vad",
+		       "eth_phy_rx",
+		       "eth_phy_pll",
+		       "vpu_b",
+		       "cpu_b_tmp",
+		       "ts",
+		       "arm_ring_osc_out_10",
+		       "arm_ring_osc_out_11",
+		       "arm_ring_osc_out_12",
+		       "arm_ring_osc_out_13",
+		       "arm_ring_osc_out_14",
+		       "arm_ring_osc_out_15",
+		       "arm_ring_osc_out_16",
+		       "ephy_test",
+		       "au_dac_g128x",
+		       "audio_locker_out",
+		       "audio_locker_in",
+		       "audio_tdmout_c_sclk",
+		       "audio_tdmout_b_sclk",
+		       "audio_tdmout_a_sclk",
+		       "audio_tdmin_lb_sclk",
+		       "audio_tdmin_c_sclk",
+		       "audio_tdmin_b_sclk",
+		       "audio_tdmin_a_sclk",
+		       "audio_resample",
+		       "audio_pdm_sys",
+		       "audio_spdifout_b",
+		       "audio_spdifout",
+		       "audio_spdifin",
+		       "audio_pdm_dclk",
+		       "audio_resampled",
+		       "earcrx_pll",
+		       "earcrx_pll_test",
+		       "csi_phy0",
+		       "csi2_data";
 };
 
 

-- 
2.42.0



